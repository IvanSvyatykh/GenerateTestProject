def create_user_prompt(data: dict) -> str:
    subject = data.get("subject")
    theme = data.get("theme")
    grade = data.get("grade")
    format_response = data.get("format_response")
    answer_num = data.get("answer_num")
    question_num = data.get("question_num")
    mixed_percent = data.get("mixed_percent")

    grade_lower = grade.lower()

    if grade == "–ù–∞—á–∞–ª—å–Ω–∞—è —à–∫–æ–ª–∞":
        grade_context = "–¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤ –Ω–∞—á–∞–ª—å–Ω–æ–π —à–∫–æ–ª—ã (1‚Äì4 –∫–ª–∞—Å—Å—ã) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —à–∫–æ–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –†–§ "
        language_level_instruction = (
            "–ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ—Å—Ç–æ–π, —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π —è–∑—ã–∫. "
            "–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–æ–∂–Ω—ã–µ –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∏–ª–∏ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã. "
            "–ü—Ä–∏–º–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏ —Ä–µ–±—ë–Ω–∫–∞. "
        )
    elif grade == "–°—Ä–µ–¥–Ω—è—è —à–∫–æ–ª–∞":
        grade_context = "–¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤ —Å—Ä–µ–¥–Ω–µ–π —à–∫–æ–ª—ã (5‚Äì9 –∫–ª–∞—Å—Å—ã) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —à–∫–æ–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –†–§ "
        language_level_instruction = (
            "–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω—ã —É—á–µ–Ω–∏–∫–∞–º —Å—Ä–µ–¥–Ω–µ–π —à–∫–æ–ª—ã. "
            "–ò–∑–±–µ–≥–∞–π –∏–∑–ª–∏—à–Ω–µ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ—á–Ω—É—é, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω—É—é –ª–µ–∫—Å–∏–∫—É. "
        )
    elif grade == "–°—Ç–∞—Ä—à–∞—è —à–∫–æ–ª–∞":
        grade_context = "–¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤ —Å—Ç–∞—Ä—à–µ–π —à–∫–æ–ª—ã (10‚Äì11 –∫–ª–∞—Å—Å—ã) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —à–∫–æ–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –†–§ "
        language_level_instruction = (
            "–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã, –Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —è—Å–Ω—ã–º–∏ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏. "
            "–ü—Ä–∏–º–µ—Ä—ã –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω—ã–º–∏ –∫ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏ –∏–ª–∏ —ç–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—É. "
        )
    elif any(g in grade for g in ["1 –∫–ª–∞—Å—Å", "2 –∫–ª–∞—Å—Å", "3 –∫–ª–∞—Å—Å", "4 –∫–ª–∞—Å—Å"]):
        grade_context = f"–¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤ –Ω–∞—á–∞–ª—å–Ω–æ–π —à–∫–æ–ª—ã ({grade}) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —à–∫–æ–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –†–§ "
        language_level_instruction = (
            "–ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ—Å—Ç–æ–π, —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π —è–∑—ã–∫. "
            "–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–æ–∂–Ω—ã–µ –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∏–ª–∏ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã. "
            "–ü—Ä–∏–º–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏ —Ä–µ–±—ë–Ω–∫–∞. "
        )
    elif any(
        g in grade for g in ["5 –∫–ª–∞—Å—Å", "6 –∫–ª–∞—Å—Å", "7 –∫–ª–∞—Å—Å", "8 –∫–ª–∞—Å—Å", "9 –∫–ª–∞—Å—Å"]
    ):
        grade_context = f"–¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤ —Å—Ä–µ–¥–Ω–µ–π —à–∫–æ–ª—ã ({grade}) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —à–∫–æ–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –†–§ "
        language_level_instruction = (
            "–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω—ã —É—á–µ–Ω–∏–∫–∞–º —Å—Ä–µ–¥–Ω–µ–π —à–∫–æ–ª—ã. "
            "–ò–∑–±–µ–≥–∞–π –∏–∑–ª–∏—à–Ω–µ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ—á–Ω—É—é, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω—É—é –ª–µ–∫—Å–∏–∫—É. "
        )
    elif any(g in grade for g in ["10 –∫–ª–∞—Å—Å", "11 –∫–ª–∞—Å—Å"]):
        grade_context = f"–¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤ —Å—Ç–∞—Ä—à–µ–π —à–∫–æ–ª—ã ({grade}) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —à–∫–æ–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –†–§ "
        language_level_instruction = (
            "–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã, –Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —è—Å–Ω—ã–º–∏ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏. "
            "–ü—Ä–∏–º–µ—Ä—ã –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω—ã–º–∏ –∫ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏ –∏–ª–∏ —ç–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—É. "
        )
    elif "–¥–æ—à–∫–æ–ª—å" in grade_lower:
        grade_context = "–¥–ª—è –¥–æ—à–∫–æ–ª—å–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏"
        language_level_instruction = (
            "–ò—Å–ø–æ–ª—å–∑—É–π –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π –∏ –Ω–∞–≥–ª—è–¥–Ω—ã–π —è–∑—ã–∫. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π —Ç–µ—Ä–º–∏–Ω—ã. "
            "–ü—Ä–∏–º–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑ –º–∏—Ä–∞ —Ä–µ–±—ë–Ω–∫–∞: –∏–≥—Ä—É—à–∫–∏, –∂–∏–≤–æ—Ç–Ω—ã–µ, —Å–µ–º—å—è, —Ü–≤–µ—Ç–∞. "
        )
    elif any(
        x in grade_lower
        for x in [
            "–±–∞–∫–∞–ª–∞–≤—Ä",
            "–≤—É–∑",
            "–∫—É—Ä—Å",
            "—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç",
            "—Ñ–∞–∫—É–ª—å—Ç–µ—Ç",
            "–º–∞–≥–∏—Å—Ç—Ä",
            "–∞—Å–ø–∏—Ä–∞–Ω—Ç",
            "—Ñ–∏–∑—Ñ–∞–∫",
            "–º–∞—Ç—Ñ–∞–∫",
            "–∏—Å—Ç—Ñ–∞–∫",
            "–º–µ—Ö–º–∞—Ç",
            "–ø–µ–¥—Ñ–∞–∫",
            "—é—Ä—Ñ–∞–∫",
            "–±–∏–æ—Ñ–∞–∫",
            "1–∫",
            "2–∫",
            "3–∫",
            "4–∫",
            "1 –∫—É—Ä—Å",
            "2 –∫—É—Ä—Å",
            "3 –∫—É—Ä—Å",
            "4 –∫—É—Ä—Å",
            "1—Å",
            "2—Å",
            "3—Å",
            "4—Å",
            "5—Å",
            "6—Å",
            "7—Å",
            "8—Å",
            "1 —Å–µ–º",
            "2 —Å–µ–º",
            "3 —Å–µ–º",
            "4 —Å–µ–º",
            "5 —Å–µ–º",
            "6 —Å–µ–º",
            "7 —Å–µ–º",
            "8 —Å–µ–º",
            "1 —Å–µ–º–µ—Å—Ç—Ä",
            "2 —Å–µ–º–µ—Å—Ç—Ä",
            "3 —Å–µ–º–µ—Å—Ç—Ä",
            "4 —Å–µ–º–µ—Å—Ç—Ä",
            "5 —Å–µ–º–µ—Å—Ç—Ä",
            "6 —Å–µ–º–µ—Å—Ç—Ä",
            "7 —Å–µ–º–µ—Å—Ç—Ä",
            "8 —Å–µ–º–µ—Å—Ç—Ä",
        ]
    ):
        grade_context = f"–¥–ª—è —É—Ä–æ–≤–Ω—è: {grade}"
        language_level_instruction = (
            "–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç–Ω—ã–µ –∏–ª–∏ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã, "
            "–Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —è—Å–Ω—ã–º–∏ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏. "
            "–ï—Å–ª–∏ –∑–∞–¥–∞–Ω —É—Ä–æ–≤–µ–Ω—å –≤—É–∑–æ–≤—Å–∫–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç), "
            "–¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –ø–æ–Ω—è—Ç–∏–π "
            "–≤ —Ä–∞–º–∫–∞—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è. "
        )
    else:
        grade_context = f"–¥–ª—è —É—Ä–æ–≤–Ω—è: {grade}"
        language_level_instruction = (
            "–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –∏ —Å—Ç–∏–ª—å –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —É—Ä–æ–≤–Ω—é –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏. "
            "–ò–∑–±–µ–≥–∞–π —á—Ä–µ–∑–º–µ—Ä–Ω–æ–π –Ω–∞—É—á–Ω–æ—Å—Ç–∏ –∏ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ —è–∑—ã–∫–∞, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. "
        )

    if format_response == "üìú –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã":
        format_description = (
            "–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤. "
            "–ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç: 'question' (—Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞), 'correct_answer' (—Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞)."
            "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–∫–∞—è:"
            """{
                      "questions": [
                        {
                          "question":
                          "correct_answer":
                        },"""
        )
    elif format_response == "‚úÖ –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤":
        format_description = (
            "–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–Ω—ã–º–∏ –∏ –Ω–µ –≤—ã–±–∏–≤–∞—Ç—å—Å—è –ø–æ —Å—Ç–∏–ª—é. "
            "–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º."
            "–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤. "
            "–ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç: 'question' (—Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞), 'answers' (—Å–ø–∏—Å–æ–∫ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞), "
            "'correct_answer' (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç). –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–∫–∞—è:"
            """{
                      "questions": [
                        {
                          "question":
                          "answers": [

                          ],
                          "correct_answer":
                        },"""
        )
    elif format_response == "üîÄ –°–º–µ—à–∞–Ω–Ω—ã–π":
        format_description = (
            "–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–Ω—ã–º–∏ –∏ –Ω–µ –≤—ã–±–∏–≤–∞—Ç—å—Å—è –ø–æ —Å—Ç–∏–ª—é. "
            "–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º."
            "–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤. "
            "–ß–∞—Å—Ç—å –∏–∑ –Ω–∏—Ö —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –æ—Ç–≤–µ—Ç–æ–º, —á–∞—Å—Ç—å —Å –≤—ã–±–æ—Ä–æ–º. "
            "–ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 'question'. "
            "–ï—Å–ª–∏ —ç—Ç–æ –≤–æ–ø—Ä–æ—Å —Å –≤—ã–±–æ—Ä–æ–º ‚Äî —Ç–∞–∫–∂–µ 'answers' –∏ 'correct_answer'. "
            "–ï—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã–π ‚Äî —Ç–æ–ª—å–∫–æ 'correct_answer'. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–∫–∞—è –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –≤—ã–±–æ—Ä–æ–º –æ—Ç–≤–µ—Ç–∞:"
            """{
                      "questions": [
                        {
                          "type": "choice"
                          "question":
                          "answers": [

                          ],
                          "correct_answer":
                        },"""
            "–ò —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–∫–∞—è –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –æ—Ç–≤–µ—Ç–æ–º:"
            """{
                      "questions": [
                        {
                          "type": "open"
                          "question":
                          "correct_answer":
                        },"""
        )
    elif format_response == "üî† –° –ø—Ä–æ–ø—É—Å–∫–∞–º–∏":
        format_description = (
            "–í–æ–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–ø—É—Å–∫ –≤ –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Å—Ç–∞–≤–∏—Ç—å –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞."
            "–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–Ω—ã–º–∏ –∏ –Ω–µ –≤—ã–±–∏–≤–∞—Ç—å—Å—è –ø–æ —Å—Ç–∏–ª—é."
            "–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º."
            "–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤. "
            "–ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç: 'question' (—Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞), 'answers' (—Å–ø–∏—Å–æ–∫ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞), "
            "'correct_answer' (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç). –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–∫–∞—è:"
            """{
                      "questions": [
                        {
                          "question":
                          "answers": [

                          ],
                          "correct_answer":
                        },"""
        )
    else:
        format_description = "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç."

    lang_instruction = (
        f"–í–û–ü–†–û–°–´ –ò –û–¢–í–ï–¢–´ –ù–ê {subject.upper()}"
        if subject in ["üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫", "üá©üá™ –ù–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫", "üá´üá∑ –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —è–∑—ã–∫"]
        else "–í–û–ü–†–û–°–´ –ò –û–¢–í–ï–¢–´ –ù–ê –†–£–°–°–ö–û–ú –Ø–ó–´–ö–ï"
    )

    prompt = (
        f"–¢—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–µ—Å—Ç–æ–≤. "
        f"–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ, —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã. "
        f"–°–æ–∑–¥–∞–π —Ç–µ—Å—Ç –∏–∑ {question_num} –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ —Ç–µ–º–µ '{theme}' –¥–ª—è –ø—Ä–µ–¥–º–µ—Ç–∞ '{subject}', "
        f"—É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω, {grade_context}. "
        f"{language_level_instruction}"
        f"{f'–£ –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å {answer_num} –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞. ' if answer_num else ''}"
        f"{f'–ü—Ä–∏–º–µ—Ä–Ω–æ {mixed_percent}% –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–º–µ—à–∞–Ω–Ω—ã–º–∏. ' if mixed_percent else ''}"
        f"{format_description}\n"
        "–ö–∞–∂–¥–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ —Å—Ç—Ä–æ–≥–æ –≤ —É—á–µ–±–Ω–æ–π —Ñ–æ—Ä–º–µ. "
        "–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –≤ –ø–æ–ª–µ 'question' –¥–æ–ª–∂–Ω–∞ —á—ë—Ç–∫–æ —É–∫–∞–∑—ã–≤–∞—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å: "
        "–Ω–∞–ø—Ä–∏–º–µ—Ä, '–í—ã–±–µ—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç', '–í—Å—Ç–∞–≤—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω–æ–µ —Å–ª–æ–≤–æ', '–ù–∞–π–¥–∏ –æ—à–∏–±–∫—É', '–û–ø—Ä–µ–¥–µ–ª–∏...',"
        "'–î–∞–π—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –æ—Ç–≤–µ—Ç' –∏ —Ç.–ø. "
        "–ù–µ –ø–∏—à–∏ –±—ã—Ç–æ–≤—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏–ª–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã—Ö —Ñ—Ä–∞–∑ –±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏. "
        "–í—Å–µ –∑–∞–¥–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–º–∏, –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–º–∏ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–µ–º–µ –∏ —É—Ä–æ–≤–Ω—é —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. "
        "–ï—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç —Ç–µ—Å—Ç–∞ ‚Äî –≤—ã–±–æ—Ä –æ—Ç–≤–µ—Ç–∞, —Ç–æ –≤ —Å–ø–∏—Å–∫–µ 'answers' –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∏ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã, "
        "—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π. "
        "–ò–∑–±–µ–≥–∞–π –∞–±—Å—É—Ä–¥–Ω—ã—Ö, –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã—Ö –∏–ª–∏ —Å—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏–≤–∞—é—â–∏—Ö—Å—è –æ—Ç–≤–µ—Ç–æ–≤."
        f"–ò–∑–±–µ–≥–∞–π –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫ –∏ –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤. "
        f"–ò—Å–∫–ª—é—á–∏ –æ—á–µ–≤–∏–¥–Ω—ã–µ, —à–∞–±–ª–æ–Ω–Ω—ã–µ –∏–ª–∏ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.\n"
        f"{lang_instruction}.\n"
        f"–í–ï–†–ù–ò –¢–û–õ–¨–ö–û JSON, –ë–ï–ó –û–ë–™–Ø–°–ù–ï–ù–ò–ô, –ü–û–Ø–°–ù–ï–ù–ò–ô –ò –ü–†–û–ß–ï–ì–û."
    )

    print(prompt)
    return prompt
