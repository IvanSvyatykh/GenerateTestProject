def create_user_prompt(data: dict) -> str:
    subject = data.get("subject")
    theme = data.get("theme")
    complexity = data.get("complexity")
    format_response = data.get("format_response")
    answer_num = data.get("answer_num")
    question_num = data.get("question_num")
    mixed_percent = data.get("mixed_percent")

    if format_response == "üìú –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã":
        format_description = (
            "–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤. "
            "–ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç: 'question' (—Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞), 'correct_answer' (—Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞)."
            "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–∫–∞—è:"
            """{
                      "questions": [
                        {
                          "question":
                          "correct_answer":
                        },"""
        )
    elif format_response == "‚úÖ –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤":
        format_description = (
            "–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤. "
            "–ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç: 'question' (—Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞), 'answers' (—Å–ø–∏—Å–æ–∫ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞), "
            "'correct_answer' (–∏–Ω–¥–µ–∫—Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞). –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–∫–∞—è:"
            """{
                      "questions": [
                        {
                          "question":
                          "answers": [

                          ],
                          "correct_answer":
                        },"""
        )
    elif format_response == "üîÄ –°–º–µ—à–∞–Ω–Ω—ã–π":
        format_description = (
            "–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤. "
            "–ß–∞—Å—Ç—å –∏–∑ –Ω–∏—Ö —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –æ—Ç–≤–µ—Ç–æ–º, —á–∞—Å—Ç—å —Å –≤—ã–±–æ—Ä–æ–º. "
            "–ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 'question'. "
            "–ï—Å–ª–∏ —ç—Ç–æ –≤–æ–ø—Ä–æ—Å —Å –≤—ã–±–æ—Ä–æ–º ‚Äî —Ç–∞–∫–∂–µ 'answers' –∏ 'correct_answer'. "
            "–ï—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã–π ‚Äî —Ç–æ–ª—å–∫–æ 'correct_answer'. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–∫–∞—è –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –≤—ã–±–æ—Ä–æ–º –æ—Ç–≤–µ—Ç–∞:"
            """{
                      "questions": [
                        {
                          "type": "choice"
                          "question":
                          "answers": [

                          ],
                          "correct_answer":
                        },"""
            "–ò —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–∫–∞—è –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –æ—Ç–≤–µ—Ç–æ–º:"
            """{
                      "questions": [
                        {
                          "type": "open"
                          "question":
                          "correct_answer":
                        },"""
        )
    else:
        format_description = "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç."

    lang_instruction = (
        f"–í–û–ü–†–û–°–´ –ò –û–¢–í–ï–¢–´ –ù–ê {subject.upper()}"
        if subject in ["üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫", "üá©üá™ –ù–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫", "üá´üá∑ –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —è–∑—ã–∫"]
        else "–í–û–ü–†–û–°–´ –ò –û–¢–í–ï–¢–´ –ù–ê –†–£–°–°–ö–û–ú –Ø–ó–´–ö–ï"
    )

    prompt = (
        f"–°–æ–∑–¥–∞–π —Ç–µ—Å—Ç –∏–∑ {question_num} –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ —Ç–µ–º–µ '{theme}' –¥–ª—è –ø—Ä–µ–¥–º–µ—Ç–∞ '{subject}', "
        f"—É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: {complexity.replace('üîπ', '').replace('üî∏', '').replace('üî∫', '').strip()}. "
        f"{f'–£ –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å {answer_num} –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞. ' if answer_num else ''}"
        f"{f'–ü—Ä–∏–º–µ—Ä–Ω–æ {mixed_percent}% –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–º–µ—à–∞–Ω–Ω—ã–º–∏. ' if mixed_percent else ''}"
        f"{format_description}\n"
        f"{lang_instruction}.\n"
        f"–í–ï–†–ù–ò –¢–û–õ–¨–ö–û JSON, –ë–ï–ó –û–ë–™–Ø–°–ù–ï–ù–ò–ô, –ü–û–Ø–°–ù–ï–ù–ò–ô –ò –ü–†–û–ß–ï–ì–û."
    )

    return prompt
